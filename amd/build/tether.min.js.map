{"version":3,"file":"tether.min.js","sources":["../src/tether.js"],"sourcesContent":["/*! tether 1.3.3 */\r\n\r\n(function(root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(factory);\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory(require, exports, module);\r\n  } else {\r\n    root.Tether = factory();\r\n  }\r\n}(this, function(require, exports, module) {\r\n\r\n'use strict';\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\r\n\r\nvar TetherBase = undefined;\r\nif (typeof TetherBase === 'undefined') {\r\n  TetherBase = { modules: [] };\r\n}\r\n\r\nvar zeroElement = null;\r\n\r\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\r\n// if the element lies within a nested document (<frame> or <iframe>-like).\r\nfunction getActualBoundingClientRect(node) {\r\n  var boundingRect = node.getBoundingClientRect();\r\n\r\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\r\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\r\n  var rect = {};\r\n  for (var k in boundingRect) {\r\n    rect[k] = boundingRect[k];\r\n  }\r\n\r\n  if (node.ownerDocument !== document) {\r\n    var _frameElement = node.ownerDocument.defaultView.frameElement;\r\n    if (_frameElement) {\r\n      var frameRect = getActualBoundingClientRect(_frameElement);\r\n      rect.top += frameRect.top;\r\n      rect.bottom += frameRect.top;\r\n      rect.left += frameRect.left;\r\n      rect.right += frameRect.left;\r\n    }\r\n  }\r\n\r\n  return rect;\r\n}\r\n\r\nfunction getScrollParents(el) {\r\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\r\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n  var computedStyle = getComputedStyle(el) || {};\r\n  var position = computedStyle.position;\r\n  var parents = [];\r\n\r\n  if (position === 'fixed') {\r\n    return [el];\r\n  }\r\n\r\n  var parent = el;\r\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\r\n    var style = undefined;\r\n    try {\r\n      style = getComputedStyle(parent);\r\n    } catch (err) {}\r\n\r\n    if (typeof style === 'undefined' || style === null) {\r\n      parents.push(parent);\r\n      return parents;\r\n    }\r\n\r\n    var _style = style;\r\n    var overflow = _style.overflow;\r\n    var overflowX = _style.overflowX;\r\n    var overflowY = _style.overflowY;\r\n\r\n    if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {\r\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\r\n        parents.push(parent);\r\n      }\r\n    }\r\n  }\r\n\r\n  parents.push(el.ownerDocument.body);\r\n\r\n  // If the node is within a frame, account for the parent window scroll\r\n  if (el.ownerDocument !== document) {\r\n    parents.push(el.ownerDocument.defaultView);\r\n  }\r\n\r\n  return parents;\r\n}\r\n\r\nvar uniqueId = (function () {\r\n  var id = 0;\r\n  return function () {\r\n    return ++id;\r\n  };\r\n})();\r\n\r\nvar zeroPosCache = {};\r\nvar getOrigin = function getOrigin() {\r\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\r\n  // jitter as the user scrolls that messes with our ability to detect if two positions\r\n  // are equivilant or not.  We place an element at the top left of the page that will\r\n  // get the same jitter, so we can cancel the two out.\r\n  var node = zeroElement;\r\n  if (!node) {\r\n    node = document.createElement('div');\r\n    node.setAttribute('data-tether-id', uniqueId());\r\n    extend(node.style, {\r\n      top: 0,\r\n      left: 0,\r\n      position: 'absolute'\r\n    });\r\n\r\n    document.body.appendChild(node);\r\n\r\n    zeroElement = node;\r\n  }\r\n\r\n  var id = node.getAttribute('data-tether-id');\r\n  if (typeof zeroPosCache[id] === 'undefined') {\r\n    zeroPosCache[id] = getActualBoundingClientRect(node);\r\n\r\n    // Clear the cache when this position call is done\r\n    defer(function () {\r\n      delete zeroPosCache[id];\r\n    });\r\n  }\r\n\r\n  return zeroPosCache[id];\r\n};\r\n\r\nfunction removeUtilElements() {\r\n  if (zeroElement) {\r\n    document.body.removeChild(zeroElement);\r\n  }\r\n  zeroElement = null;\r\n};\r\n\r\nfunction getBounds(el) {\r\n  var doc = undefined;\r\n  if (el === document) {\r\n    doc = document;\r\n    el = document.documentElement;\r\n  } else {\r\n    doc = el.ownerDocument;\r\n  }\r\n\r\n  var docEl = doc.documentElement;\r\n\r\n  var box = getActualBoundingClientRect(el);\r\n\r\n  var origin = getOrigin();\r\n\r\n  box.top -= origin.top;\r\n  box.left -= origin.left;\r\n\r\n  if (typeof box.width === 'undefined') {\r\n    box.width = document.body.scrollWidth - box.left - box.right;\r\n  }\r\n  if (typeof box.height === 'undefined') {\r\n    box.height = document.body.scrollHeight - box.top - box.bottom;\r\n  }\r\n\r\n  box.top = box.top - docEl.clientTop;\r\n  box.left = box.left - docEl.clientLeft;\r\n  box.right = doc.body.clientWidth - box.width - box.left;\r\n  box.bottom = doc.body.clientHeight - box.height - box.top;\r\n\r\n  return box;\r\n}\r\n\r\nfunction getOffsetParent(el) {\r\n  return el.offsetParent || document.documentElement;\r\n}\r\n\r\nfunction getScrollBarSize() {\r\n  var inner = document.createElement('div');\r\n  inner.style.width = '100%';\r\n  inner.style.height = '200px';\r\n\r\n  var outer = document.createElement('div');\r\n  extend(outer.style, {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    pointerEvents: 'none',\r\n    visibility: 'hidden',\r\n    width: '200px',\r\n    height: '150px',\r\n    overflow: 'hidden'\r\n  });\r\n\r\n  outer.appendChild(inner);\r\n\r\n  document.body.appendChild(outer);\r\n\r\n  var widthContained = inner.offsetWidth;\r\n  outer.style.overflow = 'scroll';\r\n  var widthScroll = inner.offsetWidth;\r\n\r\n  if (widthContained === widthScroll) {\r\n    widthScroll = outer.clientWidth;\r\n  }\r\n\r\n  document.body.removeChild(outer);\r\n\r\n  var width = widthContained - widthScroll;\r\n\r\n  return { width: width, height: width };\r\n}\r\n\r\nfunction extend() {\r\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n  var args = [];\r\n\r\n  Array.prototype.push.apply(args, arguments);\r\n\r\n  args.slice(1).forEach(function (obj) {\r\n    if (obj) {\r\n      for (var key in obj) {\r\n        if (({}).hasOwnProperty.call(obj, key)) {\r\n          out[key] = obj[key];\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return out;\r\n}\r\n\r\nfunction removeClass(el, name) {\r\n  if (typeof el.classList !== 'undefined') {\r\n    name.split(' ').forEach(function (cls) {\r\n      if (cls.trim()) {\r\n        el.classList.remove(cls);\r\n      }\r\n    });\r\n  } else {\r\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\r\n    var className = getClassName(el).replace(regex, ' ');\r\n    setClassName(el, className);\r\n  }\r\n}\r\n\r\nfunction addClass(el, name) {\r\n  if (typeof el.classList !== 'undefined') {\r\n    name.split(' ').forEach(function (cls) {\r\n      if (cls.trim()) {\r\n        el.classList.add(cls);\r\n      }\r\n    });\r\n  } else {\r\n    removeClass(el, name);\r\n    var cls = getClassName(el) + (' ' + name);\r\n    setClassName(el, cls);\r\n  }\r\n}\r\n\r\nfunction hasClass(el, name) {\r\n  if (typeof el.classList !== 'undefined') {\r\n    return el.classList.contains(name);\r\n  }\r\n  var className = getClassName(el);\r\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\r\n}\r\n\r\nfunction getClassName(el) {\r\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\r\n  // completely separately SVGAnimatedString base classes\r\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\r\n    return el.className.baseVal;\r\n  }\r\n  return el.className;\r\n}\r\n\r\nfunction setClassName(el, className) {\r\n  el.setAttribute('class', className);\r\n}\r\n\r\nfunction updateClasses(el, add, all) {\r\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\r\n  // 'add' classes to be set.\r\n  all.forEach(function (cls) {\r\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\r\n      removeClass(el, cls);\r\n    }\r\n  });\r\n\r\n  add.forEach(function (cls) {\r\n    if (!hasClass(el, cls)) {\r\n      addClass(el, cls);\r\n    }\r\n  });\r\n}\r\n\r\nvar deferred = [];\r\n\r\nvar defer = function defer(fn) {\r\n  deferred.push(fn);\r\n};\r\n\r\nvar flush = function flush() {\r\n  var fn = undefined;\r\n  while (fn = deferred.pop()) {\r\n    fn();\r\n  }\r\n};\r\n\r\nvar Evented = (function () {\r\n  function Evented() {\r\n    _classCallCheck(this, Evented);\r\n  }\r\n\r\n  _createClass(Evented, [{\r\n    key: 'on',\r\n    value: function on(event, handler, ctx) {\r\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\r\n\r\n      if (typeof this.bindings === 'undefined') {\r\n        this.bindings = {};\r\n      }\r\n      if (typeof this.bindings[event] === 'undefined') {\r\n        this.bindings[event] = [];\r\n      }\r\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\r\n    }\r\n  }, {\r\n    key: 'once',\r\n    value: function once(event, handler, ctx) {\r\n      this.on(event, handler, ctx, true);\r\n    }\r\n  }, {\r\n    key: 'off',\r\n    value: function off(event, handler) {\r\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\r\n        return;\r\n      }\r\n\r\n      if (typeof handler === 'undefined') {\r\n        delete this.bindings[event];\r\n      } else {\r\n        var i = 0;\r\n        while (i < this.bindings[event].length) {\r\n          if (this.bindings[event][i].handler === handler) {\r\n            this.bindings[event].splice(i, 1);\r\n          } else {\r\n            ++i;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'trigger',\r\n    value: function trigger(event) {\r\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\r\n        var i = 0;\r\n\r\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n          args[_key - 1] = arguments[_key];\r\n        }\r\n\r\n        while (i < this.bindings[event].length) {\r\n          var _bindings$event$i = this.bindings[event][i];\r\n          var handler = _bindings$event$i.handler;\r\n          var ctx = _bindings$event$i.ctx;\r\n          var once = _bindings$event$i.once;\r\n\r\n          var context = ctx;\r\n          if (typeof context === 'undefined') {\r\n            context = this;\r\n          }\r\n\r\n          handler.apply(context, args);\r\n\r\n          if (once) {\r\n            this.bindings[event].splice(i, 1);\r\n          } else {\r\n            ++i;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Evented;\r\n})();\r\n\r\nTetherBase.Utils = {\r\n  getActualBoundingClientRect: getActualBoundingClientRect,\r\n  getScrollParents: getScrollParents,\r\n  getBounds: getBounds,\r\n  getOffsetParent: getOffsetParent,\r\n  extend: extend,\r\n  addClass: addClass,\r\n  removeClass: removeClass,\r\n  hasClass: hasClass,\r\n  updateClasses: updateClasses,\r\n  defer: defer,\r\n  flush: flush,\r\n  uniqueId: uniqueId,\r\n  Evented: Evented,\r\n  getScrollBarSize: getScrollBarSize,\r\n  removeUtilElements: removeUtilElements\r\n};\r\n/* globals TetherBase, performance */\r\n\r\n'use strict';\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nif (typeof TetherBase === 'undefined') {\r\n  throw new Error('You must include the utils.js file before tether.js');\r\n}\r\n\r\nvar _TetherBase$Utils = TetherBase.Utils;\r\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\r\nvar getBounds = _TetherBase$Utils.getBounds;\r\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\r\nvar extend = _TetherBase$Utils.extend;\r\nvar addClass = _TetherBase$Utils.addClass;\r\nvar removeClass = _TetherBase$Utils.removeClass;\r\nvar updateClasses = _TetherBase$Utils.updateClasses;\r\nvar defer = _TetherBase$Utils.defer;\r\nvar flush = _TetherBase$Utils.flush;\r\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\r\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\r\n\r\nfunction within(a, b) {\r\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\r\n\r\n  return a + diff >= b && b >= a - diff;\r\n}\r\n\r\nvar transformKey = (function () {\r\n  if (typeof document === 'undefined') {\r\n    return '';\r\n  }\r\n  var el = document.createElement('div');\r\n\r\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\r\n  for (var i = 0; i < transforms.length; ++i) {\r\n    var key = transforms[i];\r\n    if (el.style[key] !== undefined) {\r\n      return key;\r\n    }\r\n  }\r\n})();\r\n\r\nvar tethers = [];\r\n\r\nvar position = function position() {\r\n  tethers.forEach(function (tether) {\r\n    tether.position(false);\r\n  });\r\n  flush();\r\n};\r\n\r\nfunction now() {\r\n  if (typeof performance !== 'undefined' && typeof performance.now !== 'undefined') {\r\n    return performance.now();\r\n  }\r\n  return +new Date();\r\n}\r\n\r\n(function () {\r\n  var lastCall = null;\r\n  var lastDuration = null;\r\n  var pendingTimeout = null;\r\n\r\n  var tick = function tick() {\r\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\r\n      // We voluntarily throttle ourselves if we can't manage 60fps\r\n      lastDuration = Math.min(lastDuration - 16, 250);\r\n\r\n      // Just in case this is the last event, remember to position just once more\r\n      pendingTimeout = setTimeout(tick, 250);\r\n      return;\r\n    }\r\n\r\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\r\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\r\n      return;\r\n    }\r\n\r\n    if (pendingTimeout != null) {\r\n      clearTimeout(pendingTimeout);\r\n      pendingTimeout = null;\r\n    }\r\n\r\n    lastCall = now();\r\n    position();\r\n    lastDuration = now() - lastCall;\r\n  };\r\n\r\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\r\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\r\n      window.addEventListener(event, tick);\r\n    });\r\n  }\r\n})();\r\n\r\nvar MIRROR_LR = {\r\n  center: 'center',\r\n  left: 'right',\r\n  right: 'left'\r\n};\r\n\r\nvar MIRROR_TB = {\r\n  middle: 'middle',\r\n  top: 'bottom',\r\n  bottom: 'top'\r\n};\r\n\r\nvar OFFSET_MAP = {\r\n  top: 0,\r\n  left: 0,\r\n  middle: '50%',\r\n  center: '50%',\r\n  bottom: '100%',\r\n  right: '100%'\r\n};\r\n\r\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\r\n  var left = attachment.left;\r\n  var top = attachment.top;\r\n\r\n  if (left === 'auto') {\r\n    left = MIRROR_LR[relativeToAttachment.left];\r\n  }\r\n\r\n  if (top === 'auto') {\r\n    top = MIRROR_TB[relativeToAttachment.top];\r\n  }\r\n\r\n  return { left: left, top: top };\r\n};\r\n\r\nvar attachmentToOffset = function attachmentToOffset(attachment) {\r\n  var left = attachment.left;\r\n  var top = attachment.top;\r\n\r\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\r\n    left = OFFSET_MAP[attachment.left];\r\n  }\r\n\r\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\r\n    top = OFFSET_MAP[attachment.top];\r\n  }\r\n\r\n  return { left: left, top: top };\r\n};\r\n\r\nfunction addOffset() {\r\n  var out = { top: 0, left: 0 };\r\n\r\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\r\n    offsets[_key] = arguments[_key];\r\n  }\r\n\r\n  offsets.forEach(function (_ref) {\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n\r\n    if (typeof top === 'string') {\r\n      top = parseFloat(top, 10);\r\n    }\r\n    if (typeof left === 'string') {\r\n      left = parseFloat(left, 10);\r\n    }\r\n\r\n    out.top += top;\r\n    out.left += left;\r\n  });\r\n\r\n  return out;\r\n}\r\n\r\nfunction offsetToPx(offset, size) {\r\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\r\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\r\n  }\r\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\r\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\r\n  }\r\n\r\n  return offset;\r\n}\r\n\r\nvar parseOffset = function parseOffset(value) {\r\n  var _value$split = value.split(' ');\r\n\r\n  var _value$split2 = _slicedToArray(_value$split, 2);\r\n\r\n  var top = _value$split2[0];\r\n  var left = _value$split2[1];\r\n\r\n  return { top: top, left: left };\r\n};\r\nvar parseAttachment = parseOffset;\r\n\r\nvar TetherClass = (function (_Evented) {\r\n  _inherits(TetherClass, _Evented);\r\n\r\n  function TetherClass(options) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, TetherClass);\r\n\r\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\r\n    this.position = this.position.bind(this);\r\n\r\n    tethers.push(this);\r\n\r\n    this.history = [];\r\n\r\n    this.setOptions(options, false);\r\n\r\n    TetherBase.modules.forEach(function (module) {\r\n      if (typeof module.initialize !== 'undefined') {\r\n        module.initialize.call(_this);\r\n      }\r\n    });\r\n\r\n    this.position();\r\n  }\r\n\r\n  _createClass(TetherClass, [{\r\n    key: 'getClass',\r\n    value: function getClass() {\r\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\r\n      var classes = this.options.classes;\r\n\r\n      if (typeof classes !== 'undefined' && classes[key]) {\r\n        return this.options.classes[key];\r\n      } else if (this.options.classPrefix) {\r\n        return this.options.classPrefix + '-' + key;\r\n      } else {\r\n        return key;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setOptions',\r\n    value: function setOptions(options) {\r\n      var _this2 = this;\r\n\r\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\r\n\r\n      var defaults = {\r\n        offset: '0 0',\r\n        targetOffset: '0 0',\r\n        targetAttachment: 'auto auto',\r\n        classPrefix: 'tether'\r\n      };\r\n\r\n      this.options = extend(defaults, options);\r\n\r\n      var _options = this.options;\r\n      var element = _options.element;\r\n      var target = _options.target;\r\n      var targetModifier = _options.targetModifier;\r\n\r\n      this.element = element;\r\n      this.target = target;\r\n      this.targetModifier = targetModifier;\r\n\r\n      if (this.target === 'viewport') {\r\n        this.target = document.body;\r\n        this.targetModifier = 'visible';\r\n      } else if (this.target === 'scroll-handle') {\r\n        this.target = document.body;\r\n        this.targetModifier = 'scroll-handle';\r\n      }\r\n\r\n      ['element', 'target'].forEach(function (key) {\r\n        if (typeof _this2[key] === 'undefined') {\r\n          throw new Error('Tether Error: Both element and target must be defined');\r\n        }\r\n\r\n        if (typeof _this2[key].jquery !== 'undefined') {\r\n          _this2[key] = _this2[key][0];\r\n        } else if (typeof _this2[key] === 'string') {\r\n          _this2[key] = document.querySelector(_this2[key]);\r\n        }\r\n      });\r\n\r\n      addClass(this.element, this.getClass('element'));\r\n      if (!(this.options.addTargetClasses === false)) {\r\n        addClass(this.target, this.getClass('target'));\r\n      }\r\n\r\n      if (!this.options.attachment) {\r\n        throw new Error('Tether Error: You must provide an attachment');\r\n      }\r\n\r\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\r\n      this.attachment = parseAttachment(this.options.attachment);\r\n      this.offset = parseOffset(this.options.offset);\r\n      this.targetOffset = parseOffset(this.options.targetOffset);\r\n\r\n      if (typeof this.scrollParents !== 'undefined') {\r\n        this.disable();\r\n      }\r\n\r\n      if (this.targetModifier === 'scroll-handle') {\r\n        this.scrollParents = [this.target];\r\n      } else {\r\n        this.scrollParents = getScrollParents(this.target);\r\n      }\r\n\r\n      if (!(this.options.enabled === false)) {\r\n        this.enable(pos);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getTargetBounds',\r\n    value: function getTargetBounds() {\r\n      if (typeof this.targetModifier !== 'undefined') {\r\n        if (this.targetModifier === 'visible') {\r\n          if (this.target === document.body) {\r\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\r\n          } else {\r\n            var bounds = getBounds(this.target);\r\n\r\n            var out = {\r\n              height: bounds.height,\r\n              width: bounds.width,\r\n              top: bounds.top,\r\n              left: bounds.left\r\n            };\r\n\r\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\r\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\r\n            out.height = Math.min(innerHeight, out.height);\r\n            out.height -= 2;\r\n\r\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\r\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\r\n            out.width = Math.min(innerWidth, out.width);\r\n            out.width -= 2;\r\n\r\n            if (out.top < pageYOffset) {\r\n              out.top = pageYOffset;\r\n            }\r\n            if (out.left < pageXOffset) {\r\n              out.left = pageXOffset;\r\n            }\r\n\r\n            return out;\r\n          }\r\n        } else if (this.targetModifier === 'scroll-handle') {\r\n          var bounds = undefined;\r\n          var target = this.target;\r\n          if (target === document.body) {\r\n            target = document.documentElement;\r\n\r\n            bounds = {\r\n              left: pageXOffset,\r\n              top: pageYOffset,\r\n              height: innerHeight,\r\n              width: innerWidth\r\n            };\r\n          } else {\r\n            bounds = getBounds(target);\r\n          }\r\n\r\n          var style = getComputedStyle(target);\r\n\r\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\r\n\r\n          var scrollBottom = 0;\r\n          if (hasBottomScroll) {\r\n            scrollBottom = 15;\r\n          }\r\n\r\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\r\n\r\n          var out = {\r\n            width: 15,\r\n            height: height * 0.975 * (height / target.scrollHeight),\r\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\r\n          };\r\n\r\n          var fitAdj = 0;\r\n          if (height < 408 && this.target === document.body) {\r\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\r\n          }\r\n\r\n          if (this.target !== document.body) {\r\n            out.height = Math.max(out.height, 24);\r\n          }\r\n\r\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\r\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\r\n\r\n          if (this.target === document.body) {\r\n            out.height = Math.max(out.height, 24);\r\n          }\r\n\r\n          return out;\r\n        }\r\n      } else {\r\n        return getBounds(this.target);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'clearCache',\r\n    value: function clearCache() {\r\n      this._cache = {};\r\n    }\r\n  }, {\r\n    key: 'cache',\r\n    value: function cache(k, getter) {\r\n      // More than one module will often need the same DOM info, so\r\n      // we keep a cache which is cleared on each position call\r\n      if (typeof this._cache === 'undefined') {\r\n        this._cache = {};\r\n      }\r\n\r\n      if (typeof this._cache[k] === 'undefined') {\r\n        this._cache[k] = getter.call(this);\r\n      }\r\n\r\n      return this._cache[k];\r\n    }\r\n  }, {\r\n    key: 'enable',\r\n    value: function enable() {\r\n      var _this3 = this;\r\n\r\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\r\n\r\n      if (!(this.options.addTargetClasses === false)) {\r\n        addClass(this.target, this.getClass('enabled'));\r\n      }\r\n      addClass(this.element, this.getClass('enabled'));\r\n      this.enabled = true;\r\n\r\n      this.scrollParents.forEach(function (parent) {\r\n        if (parent !== _this3.target.ownerDocument) {\r\n          parent.addEventListener('scroll', _this3.position);\r\n        }\r\n      });\r\n\r\n      if (pos) {\r\n        this.position();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'disable',\r\n    value: function disable() {\r\n      var _this4 = this;\r\n\r\n      removeClass(this.target, this.getClass('enabled'));\r\n      removeClass(this.element, this.getClass('enabled'));\r\n      this.enabled = false;\r\n\r\n      if (typeof this.scrollParents !== 'undefined') {\r\n        this.scrollParents.forEach(function (parent) {\r\n          parent.removeEventListener('scroll', _this4.position);\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: 'destroy',\r\n    value: function destroy() {\r\n      var _this5 = this;\r\n\r\n      this.disable();\r\n\r\n      tethers.forEach(function (tether, i) {\r\n        if (tether === _this5) {\r\n          tethers.splice(i, 1);\r\n        }\r\n      });\r\n\r\n      // Remove any elements we were using for convenience from the DOM\r\n      if (tethers.length === 0) {\r\n        removeUtilElements();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'updateAttachClasses',\r\n    value: function updateAttachClasses(elementAttach, targetAttach) {\r\n      var _this6 = this;\r\n\r\n      elementAttach = elementAttach || this.attachment;\r\n      targetAttach = targetAttach || this.targetAttachment;\r\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\r\n\r\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\r\n        // updateAttachClasses can be called more than once in a position call, so\r\n        // we need to clean up after ourselves such that when the last defer gets\r\n        // ran it doesn't add any extra classes from previous calls.\r\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\r\n      }\r\n\r\n      if (typeof this._addAttachClasses === 'undefined') {\r\n        this._addAttachClasses = [];\r\n      }\r\n      var add = this._addAttachClasses;\r\n\r\n      if (elementAttach.top) {\r\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\r\n      }\r\n      if (elementAttach.left) {\r\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\r\n      }\r\n      if (targetAttach.top) {\r\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\r\n      }\r\n      if (targetAttach.left) {\r\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\r\n      }\r\n\r\n      var all = [];\r\n      sides.forEach(function (side) {\r\n        all.push(_this6.getClass('element-attached') + '-' + side);\r\n        all.push(_this6.getClass('target-attached') + '-' + side);\r\n      });\r\n\r\n      defer(function () {\r\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\r\n          return;\r\n        }\r\n\r\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\r\n        if (!(_this6.options.addTargetClasses === false)) {\r\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\r\n        }\r\n\r\n        delete _this6._addAttachClasses;\r\n      });\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position() {\r\n      var _this7 = this;\r\n\r\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\r\n\r\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\r\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\r\n\r\n      if (!this.enabled) {\r\n        return;\r\n      }\r\n\r\n      this.clearCache();\r\n\r\n      // Turn 'auto' attachments into the appropriate corner or edge\r\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\r\n\r\n      this.updateAttachClasses(this.attachment, targetAttachment);\r\n\r\n      var elementPos = this.cache('element-bounds', function () {\r\n        return getBounds(_this7.element);\r\n      });\r\n\r\n      var width = elementPos.width;\r\n      var height = elementPos.height;\r\n\r\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\r\n        var _lastSize = this.lastSize;\r\n\r\n        // We cache the height and width to make it possible to position elements that are\r\n        // getting hidden.\r\n        width = _lastSize.width;\r\n        height = _lastSize.height;\r\n      } else {\r\n        this.lastSize = { width: width, height: height };\r\n      }\r\n\r\n      var targetPos = this.cache('target-bounds', function () {\r\n        return _this7.getTargetBounds();\r\n      });\r\n      var targetSize = targetPos;\r\n\r\n      // Get an actual px offset from the attachment\r\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\r\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\r\n\r\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\r\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\r\n\r\n      // Add the manually provided offset\r\n      offset = addOffset(offset, manualOffset);\r\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\r\n\r\n      // It's now our goal to make (element position + offset) == (target position + target offset)\r\n      var left = targetPos.left + targetOffset.left - offset.left;\r\n      var top = targetPos.top + targetOffset.top - offset.top;\r\n\r\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\r\n        var _module2 = TetherBase.modules[i];\r\n        var ret = _module2.position.call(this, {\r\n          left: left,\r\n          top: top,\r\n          targetAttachment: targetAttachment,\r\n          targetPos: targetPos,\r\n          elementPos: elementPos,\r\n          offset: offset,\r\n          targetOffset: targetOffset,\r\n          manualOffset: manualOffset,\r\n          manualTargetOffset: manualTargetOffset,\r\n          scrollbarSize: scrollbarSize,\r\n          attachment: this.attachment\r\n        });\r\n\r\n        if (ret === false) {\r\n          return false;\r\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\r\n          continue;\r\n        } else {\r\n          top = ret.top;\r\n          left = ret.left;\r\n        }\r\n      }\r\n\r\n      // We describe the position three different ways to give the optimizer\r\n      // a chance to decide the best possible way to position the element\r\n      // with the fewest repaints.\r\n      var next = {\r\n        // It's position relative to the page (absolute positioning when\r\n        // the element is a child of the body)\r\n        page: {\r\n          top: top,\r\n          left: left\r\n        },\r\n\r\n        // It's position relative to the viewport (fixed positioning)\r\n        viewport: {\r\n          top: top - pageYOffset,\r\n          bottom: pageYOffset - top - height + innerHeight,\r\n          left: left - pageXOffset,\r\n          right: pageXOffset - left - width + innerWidth\r\n        }\r\n      };\r\n\r\n      var doc = this.target.ownerDocument;\r\n      var win = doc.defaultView;\r\n\r\n      var scrollbarSize = undefined;\r\n      if (doc.body.scrollWidth > win.innerWidth) {\r\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\r\n        next.viewport.bottom -= scrollbarSize.height;\r\n      }\r\n\r\n      if (doc.body.scrollHeight > win.innerHeight) {\r\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\r\n        next.viewport.right -= scrollbarSize.width;\r\n      }\r\n\r\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\r\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\r\n        next.page.bottom = doc.body.scrollHeight - top - height;\r\n        next.page.right = doc.body.scrollWidth - left - width;\r\n      }\r\n\r\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\r\n        (function () {\r\n          var offsetParent = _this7.cache('target-offsetparent', function () {\r\n            return getOffsetParent(_this7.target);\r\n          });\r\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\r\n            return getBounds(offsetParent);\r\n          });\r\n          var offsetParentStyle = getComputedStyle(offsetParent);\r\n          var offsetParentSize = offsetPosition;\r\n\r\n          var offsetBorder = {};\r\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\r\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\r\n          });\r\n\r\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\r\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\r\n\r\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\r\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\r\n              // We're within the visible part of the target's scroll parent\r\n              var scrollTop = offsetParent.scrollTop;\r\n              var scrollLeft = offsetParent.scrollLeft;\r\n\r\n              // It's position relative to the target's offset parent (absolute positioning when\r\n              // the element is moved to be a child of the target's offset parent).\r\n              next.offset = {\r\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\r\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\r\n              };\r\n            }\r\n          }\r\n        })();\r\n      }\r\n\r\n      // We could also travel up the DOM and try each containing context, rather than only\r\n      // looking at the body, but we're gonna get diminishing returns.\r\n\r\n      this.move(next);\r\n\r\n      this.history.unshift(next);\r\n\r\n      if (this.history.length > 3) {\r\n        this.history.pop();\r\n      }\r\n\r\n      if (flushChanges) {\r\n        flush();\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    // THE ISSUE\r\n  }, {\r\n    key: 'move',\r\n    value: function move(pos) {\r\n      var _this8 = this;\r\n\r\n      if (!(typeof this.element.parentNode !== 'undefined')) {\r\n        return;\r\n      }\r\n\r\n      var same = {};\r\n\r\n      for (var type in pos) {\r\n        same[type] = {};\r\n\r\n        for (var key in pos[type]) {\r\n          var found = false;\r\n\r\n          for (var i = 0; i < this.history.length; ++i) {\r\n            var point = this.history[i];\r\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!found) {\r\n            same[type][key] = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      var css = { top: '', left: '', right: '', bottom: '' };\r\n\r\n      var transcribe = function transcribe(_same, _pos) {\r\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\r\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\r\n        if (gpu !== false) {\r\n          var yPos = undefined,\r\n              xPos = undefined;\r\n          if (_same.top) {\r\n            css.top = 0;\r\n            yPos = _pos.top;\r\n          } else {\r\n            css.bottom = 0;\r\n            yPos = -_pos.bottom;\r\n          }\r\n\r\n          if (_same.left) {\r\n            css.left = 0;\r\n            xPos = _pos.left;\r\n          } else {\r\n            css.right = 0;\r\n            xPos = -_pos.right;\r\n          }\r\n\r\n          css[transformKey] = 'translateX(' + Math.round(xPos) + 'px) translateY(' + Math.round(yPos) + 'px)';\r\n\r\n          if (transformKey !== 'msTransform') {\r\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\r\n            // but IE9 doesn't support 3d transforms and will choke.\r\n            css[transformKey] += \" translateZ(0)\";\r\n          }\r\n        } else {\r\n          if (_same.top) {\r\n            css.top = _pos.top + 'px';\r\n          } else {\r\n            css.bottom = _pos.bottom + 'px';\r\n          }\r\n\r\n          if (_same.left) {\r\n            css.left = _pos.left + 'px';\r\n          } else {\r\n            css.right = _pos.right + 'px';\r\n          }\r\n        }\r\n      };\r\n\r\n      var moved = false;\r\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\r\n        css.position = 'absolute';\r\n        transcribe(same.page, pos.page);\r\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\r\n        css.position = 'fixed';\r\n        transcribe(same.viewport, pos.viewport);\r\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\r\n        (function () {\r\n          css.position = 'absolute';\r\n          var offsetParent = _this8.cache('target-offsetparent', function () {\r\n            return getOffsetParent(_this8.target);\r\n          });\r\n\r\n          if (getOffsetParent(_this8.element) !== offsetParent) {\r\n            defer(function () {\r\n              _this8.element.parentNode.removeChild(_this8.element);\r\n              offsetParent.appendChild(_this8.element);\r\n            });\r\n          }\r\n\r\n          transcribe(same.offset, pos.offset);\r\n          moved = true;\r\n        })();\r\n      } else {\r\n        css.position = 'absolute';\r\n        transcribe({ top: true, left: true }, pos.page);\r\n      }\r\n\r\n      if (!moved) {\r\n        var offsetParentIsBody = true;\r\n        var currentNode = this.element.parentNode;\r\n        while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY') {\r\n          if (getComputedStyle(currentNode).position !== 'static') {\r\n            offsetParentIsBody = false;\r\n            break;\r\n          }\r\n\r\n          currentNode = currentNode.parentNode;\r\n        }\r\n\r\n        if (!offsetParentIsBody) {\r\n          this.element.parentNode.removeChild(this.element);\r\n          this.element.ownerDocument.body.appendChild(this.element);\r\n        }\r\n      }\r\n\r\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\r\n      var writeCSS = {};\r\n      var write = false;\r\n      for (var key in css) {\r\n        var val = css[key];\r\n        var elVal = this.element.style[key];\r\n\r\n        if (elVal !== val) {\r\n          write = true;\r\n          writeCSS[key] = val;\r\n        }\r\n      }\r\n\r\n      if (write) {\r\n        defer(function () {\r\n          extend(_this8.element.style, writeCSS);\r\n        });\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return TetherClass;\r\n})(Evented);\r\n\r\nTetherClass.modules = [];\r\n\r\nTetherBase.position = position;\r\n\r\nvar Tether = extend(TetherClass, TetherBase);\r\n/* globals TetherBase */\r\n\r\n'use strict';\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nvar _TetherBase$Utils = TetherBase.Utils;\r\nvar getBounds = _TetherBase$Utils.getBounds;\r\nvar extend = _TetherBase$Utils.extend;\r\nvar updateClasses = _TetherBase$Utils.updateClasses;\r\nvar defer = _TetherBase$Utils.defer;\r\n\r\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\r\n\r\nfunction getBoundingRect(tether, to) {\r\n  if (to === 'scrollParent') {\r\n    to = tether.scrollParents[0];\r\n  } else if (to === 'window') {\r\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\r\n  }\r\n\r\n  if (to === document) {\r\n    to = to.documentElement;\r\n  }\r\n\r\n  if (typeof to.nodeType !== 'undefined') {\r\n    (function () {\r\n      var node = to;\r\n      var size = getBounds(to);\r\n      var pos = size;\r\n      var style = getComputedStyle(to);\r\n\r\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\r\n\r\n      // Account any parent Frames scroll offset\r\n      if (node.ownerDocument !== document) {\r\n        var win = node.ownerDocument.defaultView;\r\n        to[0] += win.pageXOffset;\r\n        to[1] += win.pageYOffset;\r\n        to[2] += win.pageXOffset;\r\n        to[3] += win.pageYOffset;\r\n      }\r\n\r\n      BOUNDS_FORMAT.forEach(function (side, i) {\r\n        side = side[0].toUpperCase() + side.substr(1);\r\n        if (side === 'Top' || side === 'Left') {\r\n          to[i] += parseFloat(style['border' + side + 'Width']);\r\n        } else {\r\n          to[i] -= parseFloat(style['border' + side + 'Width']);\r\n        }\r\n      });\r\n    })();\r\n  }\r\n\r\n  return to;\r\n}\r\n\r\nTetherBase.modules.push({\r\n  position: function position(_ref) {\r\n    var _this = this;\r\n\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n    var targetAttachment = _ref.targetAttachment;\r\n\r\n    if (!this.options.constraints) {\r\n      return true;\r\n    }\r\n\r\n    var _cache = this.cache('element-bounds', function () {\r\n      return getBounds(_this.element);\r\n    });\r\n\r\n    var height = _cache.height;\r\n    var width = _cache.width;\r\n\r\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\r\n      var _lastSize = this.lastSize;\r\n\r\n      // Handle the item getting hidden as a result of our positioning without glitching\r\n      // the classes in and out\r\n      width = _lastSize.width;\r\n      height = _lastSize.height;\r\n    }\r\n\r\n    var targetSize = this.cache('target-bounds', function () {\r\n      return _this.getTargetBounds();\r\n    });\r\n\r\n    var targetHeight = targetSize.height;\r\n    var targetWidth = targetSize.width;\r\n\r\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\r\n\r\n    this.options.constraints.forEach(function (constraint) {\r\n      var outOfBoundsClass = constraint.outOfBoundsClass;\r\n      var pinnedClass = constraint.pinnedClass;\r\n\r\n      if (outOfBoundsClass) {\r\n        allClasses.push(outOfBoundsClass);\r\n      }\r\n      if (pinnedClass) {\r\n        allClasses.push(pinnedClass);\r\n      }\r\n    });\r\n\r\n    allClasses.forEach(function (cls) {\r\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\r\n        allClasses.push(cls + '-' + side);\r\n      });\r\n    });\r\n\r\n    var addClasses = [];\r\n\r\n    var tAttachment = extend({}, targetAttachment);\r\n    var eAttachment = extend({}, this.attachment);\r\n\r\n    this.options.constraints.forEach(function (constraint) {\r\n      var to = constraint.to;\r\n      var attachment = constraint.attachment;\r\n      var pin = constraint.pin;\r\n\r\n      if (typeof attachment === 'undefined') {\r\n        attachment = '';\r\n      }\r\n\r\n      var changeAttachX = undefined,\r\n          changeAttachY = undefined;\r\n      if (attachment.indexOf(' ') >= 0) {\r\n        var _attachment$split = attachment.split(' ');\r\n\r\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\r\n\r\n        changeAttachY = _attachment$split2[0];\r\n        changeAttachX = _attachment$split2[1];\r\n      } else {\r\n        changeAttachX = changeAttachY = attachment;\r\n      }\r\n\r\n      var bounds = getBoundingRect(_this, to);\r\n\r\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\r\n        if (top < bounds[1] && tAttachment.top === 'top') {\r\n          top += targetHeight;\r\n          tAttachment.top = 'bottom';\r\n        }\r\n\r\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\r\n          top -= targetHeight;\r\n          tAttachment.top = 'top';\r\n        }\r\n      }\r\n\r\n      if (changeAttachY === 'together') {\r\n        if (tAttachment.top === 'top') {\r\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\r\n            top += targetHeight;\r\n            tAttachment.top = 'bottom';\r\n\r\n            top += height;\r\n            eAttachment.top = 'top';\r\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\r\n            top -= height - targetHeight;\r\n            tAttachment.top = 'bottom';\r\n\r\n            eAttachment.top = 'bottom';\r\n          }\r\n        }\r\n\r\n        if (tAttachment.top === 'bottom') {\r\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\r\n            top -= targetHeight;\r\n            tAttachment.top = 'top';\r\n\r\n            top -= height;\r\n            eAttachment.top = 'bottom';\r\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\r\n            top += height - targetHeight;\r\n            tAttachment.top = 'top';\r\n\r\n            eAttachment.top = 'top';\r\n          }\r\n        }\r\n\r\n        if (tAttachment.top === 'middle') {\r\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\r\n            top -= height;\r\n            eAttachment.top = 'bottom';\r\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\r\n            top += height;\r\n            eAttachment.top = 'top';\r\n          }\r\n        }\r\n      }\r\n\r\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\r\n        if (left < bounds[0] && tAttachment.left === 'left') {\r\n          left += targetWidth;\r\n          tAttachment.left = 'right';\r\n        }\r\n\r\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\r\n          left -= targetWidth;\r\n          tAttachment.left = 'left';\r\n        }\r\n      }\r\n\r\n      if (changeAttachX === 'together') {\r\n        if (left < bounds[0] && tAttachment.left === 'left') {\r\n          if (eAttachment.left === 'right') {\r\n            left += targetWidth;\r\n            tAttachment.left = 'right';\r\n\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          } else if (eAttachment.left === 'left') {\r\n            left += targetWidth;\r\n            tAttachment.left = 'right';\r\n\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          }\r\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\r\n          if (eAttachment.left === 'left') {\r\n            left -= targetWidth;\r\n            tAttachment.left = 'left';\r\n\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          } else if (eAttachment.left === 'right') {\r\n            left -= targetWidth;\r\n            tAttachment.left = 'left';\r\n\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          }\r\n        } else if (tAttachment.left === 'center') {\r\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          }\r\n        }\r\n      }\r\n\r\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\r\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\r\n          top += height;\r\n          eAttachment.top = 'top';\r\n        }\r\n\r\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\r\n          top -= height;\r\n          eAttachment.top = 'bottom';\r\n        }\r\n      }\r\n\r\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\r\n        if (left < bounds[0]) {\r\n          if (eAttachment.left === 'right') {\r\n            left += width;\r\n            eAttachment.left = 'left';\r\n          } else if (eAttachment.left === 'center') {\r\n            left += width / 2;\r\n            eAttachment.left = 'left';\r\n          }\r\n        }\r\n\r\n        if (left + width > bounds[2]) {\r\n          if (eAttachment.left === 'left') {\r\n            left -= width;\r\n            eAttachment.left = 'right';\r\n          } else if (eAttachment.left === 'center') {\r\n            left -= width / 2;\r\n            eAttachment.left = 'right';\r\n          }\r\n        }\r\n      }\r\n\r\n      if (typeof pin === 'string') {\r\n        pin = pin.split(',').map(function (p) {\r\n          return p.trim();\r\n        });\r\n      } else if (pin === true) {\r\n        pin = ['top', 'left', 'right', 'bottom'];\r\n      }\r\n\r\n      pin = pin || [];\r\n\r\n      var pinned = [];\r\n      var oob = [];\r\n\r\n      if (top < bounds[1]) {\r\n        if (pin.indexOf('top') >= 0) {\r\n          top = bounds[1];\r\n          pinned.push('top');\r\n        } else {\r\n          oob.push('top');\r\n        }\r\n      }\r\n\r\n      if (top + height > bounds[3]) {\r\n        if (pin.indexOf('bottom') >= 0) {\r\n          top = bounds[3] - height;\r\n          pinned.push('bottom');\r\n        } else {\r\n          oob.push('bottom');\r\n        }\r\n      }\r\n\r\n      if (left < bounds[0]) {\r\n        if (pin.indexOf('left') >= 0) {\r\n          left = bounds[0];\r\n          pinned.push('left');\r\n        } else {\r\n          oob.push('left');\r\n        }\r\n      }\r\n\r\n      if (left + width > bounds[2]) {\r\n        if (pin.indexOf('right') >= 0) {\r\n          left = bounds[2] - width;\r\n          pinned.push('right');\r\n        } else {\r\n          oob.push('right');\r\n        }\r\n      }\r\n\r\n      if (pinned.length) {\r\n        (function () {\r\n          var pinnedClass = undefined;\r\n          if (typeof _this.options.pinnedClass !== 'undefined') {\r\n            pinnedClass = _this.options.pinnedClass;\r\n          } else {\r\n            pinnedClass = _this.getClass('pinned');\r\n          }\r\n\r\n          addClasses.push(pinnedClass);\r\n          pinned.forEach(function (side) {\r\n            addClasses.push(pinnedClass + '-' + side);\r\n          });\r\n        })();\r\n      }\r\n\r\n      if (oob.length) {\r\n        (function () {\r\n          var oobClass = undefined;\r\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\r\n            oobClass = _this.options.outOfBoundsClass;\r\n          } else {\r\n            oobClass = _this.getClass('out-of-bounds');\r\n          }\r\n\r\n          addClasses.push(oobClass);\r\n          oob.forEach(function (side) {\r\n            addClasses.push(oobClass + '-' + side);\r\n          });\r\n        })();\r\n      }\r\n\r\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\r\n        eAttachment.left = tAttachment.left = false;\r\n      }\r\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\r\n        eAttachment.top = tAttachment.top = false;\r\n      }\r\n\r\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\r\n        _this.updateAttachClasses(eAttachment, tAttachment);\r\n        _this.trigger('update', {\r\n          attachment: eAttachment,\r\n          targetAttachment: tAttachment\r\n        });\r\n      }\r\n    });\r\n\r\n    defer(function () {\r\n      if (!(_this.options.addTargetClasses === false)) {\r\n        updateClasses(_this.target, addClasses, allClasses);\r\n      }\r\n      updateClasses(_this.element, addClasses, allClasses);\r\n    });\r\n\r\n    return { top: top, left: left };\r\n  }\r\n});\r\n/* globals TetherBase */\r\n\r\n'use strict';\r\n\r\nvar _TetherBase$Utils = TetherBase.Utils;\r\nvar getBounds = _TetherBase$Utils.getBounds;\r\nvar updateClasses = _TetherBase$Utils.updateClasses;\r\nvar defer = _TetherBase$Utils.defer;\r\n\r\nTetherBase.modules.push({\r\n  position: function position(_ref) {\r\n    var _this = this;\r\n\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n\r\n    var _cache = this.cache('element-bounds', function () {\r\n      return getBounds(_this.element);\r\n    });\r\n\r\n    var height = _cache.height;\r\n    var width = _cache.width;\r\n\r\n    var targetPos = this.getTargetBounds();\r\n\r\n    var bottom = top + height;\r\n    var right = left + width;\r\n\r\n    var abutted = [];\r\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\r\n      ['left', 'right'].forEach(function (side) {\r\n        var targetPosSide = targetPos[side];\r\n        if (targetPosSide === left || targetPosSide === right) {\r\n          abutted.push(side);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (left <= targetPos.right && right >= targetPos.left) {\r\n      ['top', 'bottom'].forEach(function (side) {\r\n        var targetPosSide = targetPos[side];\r\n        if (targetPosSide === top || targetPosSide === bottom) {\r\n          abutted.push(side);\r\n        }\r\n      });\r\n    }\r\n\r\n    var allClasses = [];\r\n    var addClasses = [];\r\n\r\n    var sides = ['left', 'top', 'right', 'bottom'];\r\n    allClasses.push(this.getClass('abutted'));\r\n    sides.forEach(function (side) {\r\n      allClasses.push(_this.getClass('abutted') + '-' + side);\r\n    });\r\n\r\n    if (abutted.length) {\r\n      addClasses.push(this.getClass('abutted'));\r\n    }\r\n\r\n    abutted.forEach(function (side) {\r\n      addClasses.push(_this.getClass('abutted') + '-' + side);\r\n    });\r\n\r\n    defer(function () {\r\n      if (!(_this.options.addTargetClasses === false)) {\r\n        updateClasses(_this.target, addClasses, allClasses);\r\n      }\r\n      updateClasses(_this.element, addClasses, allClasses);\r\n    });\r\n\r\n    return true;\r\n  }\r\n});\r\n/* globals TetherBase */\r\n\r\n'use strict';\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nTetherBase.modules.push({\r\n  position: function position(_ref) {\r\n    var top = _ref.top;\r\n    var left = _ref.left;\r\n\r\n    if (!this.options.shift) {\r\n      return;\r\n    }\r\n\r\n    var shift = this.options.shift;\r\n    if (typeof this.options.shift === 'function') {\r\n      shift = this.options.shift.call(this, { top: top, left: left });\r\n    }\r\n\r\n    var shiftTop = undefined,\r\n        shiftLeft = undefined;\r\n    if (typeof shift === 'string') {\r\n      shift = shift.split(' ');\r\n      shift[1] = shift[1] || shift[0];\r\n\r\n      var _shift = shift;\r\n\r\n      var _shift2 = _slicedToArray(_shift, 2);\r\n\r\n      shiftTop = _shift2[0];\r\n      shiftLeft = _shift2[1];\r\n\r\n      shiftTop = parseFloat(shiftTop, 10);\r\n      shiftLeft = parseFloat(shiftLeft, 10);\r\n    } else {\r\n      shiftTop = shift.top;\r\n      shiftLeft = shift.left;\r\n    }\r\n\r\n    top += shiftTop;\r\n    left += shiftLeft;\r\n\r\n    return { top: top, left: left };\r\n  }\r\n});\r\nreturn Tether;\r\n\r\n}));\r\n"],"names":["root","factory","this","require","exports","module","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","TetherBase","undefined","modules","zeroElement","getActualBoundingClientRect","node","boundingRect","getBoundingClientRect","rect","k","ownerDocument","document","_frameElement","defaultView","frameElement","frameRect","top","bottom","left","right","getScrollParents","el","position","getComputedStyle","parents","parent","parentNode","nodeType","style","err","push","_style","overflow","overflowX","overflowY","test","indexOf","body","id","uniqueId","zeroPosCache","removeUtilElements","removeChild","getBounds","doc","documentElement","docEl","box","origin","createElement","setAttribute","extend","appendChild","getAttribute","defer","getOrigin","width","scrollWidth","height","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","getOffsetParent","offsetParent","getScrollBarSize","inner","outer","pointerEvents","visibility","widthContained","offsetWidth","widthScroll","out","arguments","args","Array","apply","slice","forEach","obj","hasOwnProperty","call","removeClass","name","classList","split","cls","trim","remove","regex","RegExp","join","className","getClassName","replace","setClassName","addClass","add","hasClass","contains","SVGAnimatedString","baseVal","updateClasses","all","deferred","fn","flush","pop","Evented","value","event","handler","ctx","once","bindings","on","splice","_len","_key","_bindings$event$i","context","Utils","_slicedToArray","arr","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","sliceIterator","Error","_TetherBase$Utils","within","a","b","diff","lastCall","lastDuration","pendingTimeout","tick","transformKey","transforms","tethers","tether","now","performance","Date","Math","min","setTimeout","clearTimeout","window","addEventListener","MIRROR_LR","center","MIRROR_TB","middle","OFFSET_MAP","autoToFixedAttachment","attachment","relativeToAttachment","attachmentToOffset","addOffset","offsets","_ref","parseFloat","offsetToPx","offset","size","parseOffset","_value$split","_value$split2","parseAttachment","TetherClass","_Evented","options","_this","_x6","_x7","_x8","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","get","getPrototypeOf","_get","bind","history","setOptions","initialize","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_inherits","classes","classPrefix","_this2","pos","defaults","targetOffset","targetAttachment","_options","element","targetModifier","jquery","querySelector","getClass","addTargetClasses","scrollParents","disable","enabled","enable","pageYOffset","pageXOffset","innerHeight","innerWidth","bounds","scrollBottom","borderTopWidth","borderBottomWidth","borderLeftWidth","fitAdj","pow","max","scrollPercentage","scrollTop","_cache","_this3","_this4","removeEventListener","_this5","elementAttach","targetAttach","_this6","_addAttachClasses","side","_this7","flushChanges","clearCache","updateAttachClasses","elementPos","cache","lastSize","_lastSize","targetPos","getTargetBounds","targetSize","manualOffset","manualTargetOffset","_module2","ret","scrollbarSize","page","viewport","win","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","toLowerCase","scrollLeft","move","unshift","_this8","same","type","found","point","css","transcribe","_same","_pos","gpu","yPos","xPos","round","moved","offsetParentIsBody","currentNode","tagName","writeCSS","write","val","Tether","BOUNDS_FORMAT","constraints","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","to","pin","changeAttachX","changeAttachY","_attachment$split","_attachment$split2","toUpperCase","substr","getBoundingRect","map","p","oobClass","pinned","oob","trigger","abutted","targetPosSide","shift","shiftTop","shiftLeft","_shift2","define","amd"],"mappings":"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"}