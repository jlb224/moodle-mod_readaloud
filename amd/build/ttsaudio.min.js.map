{"version":3,"file":"ttsaudio.min.js","sources":["../src/ttsaudio.js"],"sourcesContent":["define(['jquery','core/log'], function($,log) {\r\n    \"use strict\"; // jshint ;_;\r\n\r\n\r\n    log.debug('ReadAloud TTS Audio: initialising');\r\n\r\n    return{\r\n\r\n        init: function(AUDIOID){\r\n\r\n            //DECLARATIONS and INITs ...........................\r\n            var stoporpause='stop';\r\n\r\n            //audio player declarations\r\n            var aplayer = $('#' + AUDIOID + '_ttsaudioplayer');\r\n            var fa = $('#' + AUDIOID + '_ttsaudio .fa');\r\n\r\n            //FUNCTION: play a single sentence and mark it active for display purposes\r\n            var doplayaudio = function(){\r\n                aplayer[0].play();\r\n            };\r\n\r\n\r\n            //AUDIO PLAYER events\r\n            aplayer[0].addEventListener('ended', function(){\r\n                    $(fa).removeClass('fa-stop');\r\n                    $(fa).addClass('fa-volume-up');\r\n            });\r\n\r\n            aplayer[0].addEventListener('play', function(){\r\n                $(fa).removeClass('fa-volume-up');\r\n                $(fa).addClass('fa-stop');\r\n            });\r\n\r\n            //handle audio player button clicks\r\n            $('#' + AUDIOID).click(function(){\r\n                if(!aplayer[0].paused && !aplayer[0].ended){\r\n                    aplayer[0].pause();\r\n                    if(stoporpause=='stop'){\r\n                        aplayer[0].load();\r\n                    }\r\n                    $(fa).removeClass('fa-stop');\r\n                    $(fa).addClass('fa-volume-up');\r\n\r\n                    //if paused and in limbo no src state\r\n                }else if(aplayer[0].paused && aplayer.attr('src')){\r\n                    aplayer[0].play();\r\n                    $(fa).removeClass('fa-volume-up');\r\n                    $(fa).addClass('fa-stop');\r\n                    //play\r\n                }else{\r\n                    doplayaudio();\r\n                    $(fa).removeClass('fa-volume-up');\r\n                    $(fa).addClass('fa-stop');\r\n                }//end of if paused ended\r\n            });\r\n            //end of instance wrapper\r\n        }\r\n\r\n    };//end of return value\r\n});"],"names":["define","$","log","debug","init","AUDIOID","aplayer","fa","addEventListener","removeClass","addClass","click","paused","ended","attr","play","pause","load"],"mappings":"AAAAA,gCAAO,CAAC,SAAS,aAAa,SAASC,EAAEC,YAIrCA,IAAIC,MAAM,qCAEJ,CAEFC,KAAM,SAASC,aAMPC,QAAUL,EAAE,IAAMI,QAAU,mBAC5BE,GAAKN,EAAE,IAAMI,QAAU,iBAS3BC,QAAQ,GAAGE,iBAAiB,SAAS,WAC7BP,EAAEM,IAAIE,YAAY,WAClBR,EAAEM,IAAIG,SAAS,mBAGvBJ,QAAQ,GAAGE,iBAAiB,QAAQ,WAChCP,EAAEM,IAAIE,YAAY,gBAClBR,EAAEM,IAAIG,SAAS,cAInBT,EAAE,IAAMI,SAASM,OAAM,WACfL,QAAQ,GAAGM,QAAWN,QAAQ,GAAGO,OAS5BP,QAAQ,GAAGM,QAAUN,QAAQQ,KAAK,OACvCR,QAAQ,GAAGS,OACXd,EAAEM,IAAIE,YAAY,gBAClBR,EAAEM,IAAIG,SAAS,aAXfJ,QAAQ,GAAGU,QAEPV,QAAQ,GAAGW,OAEfhB,EAAEM,IAAIE,YAAY,WAClBR,EAAEM,IAAIG,SAAS"}