define("mod_readaloud/quizcontroller",["jquery","core/log","mod_readaloud/definitions","mod_readaloud/quizhelper","mod_readaloud/pollyhelper"],(function($,log,def,quizhelper,polly){return log.debug("ReadAloud Quiz Controller: initialising"),{cmid:null,quizdata:null,sorryboxid:null,controls:null,init:function(props){var dd=this,theid="#amdopts_"+props.widgetid,configcontrol=$(theid).get(0);configcontrol?(dd.quizdata=JSON.parse(configcontrol.value),$(theid).remove(),dd.cmid=props.cmid,dd.attemptid=1,dd.sorryboxid=props.widgetid+"_sorrybox",polly.init(dd.quizdata.token,dd.quizdata.region,dd.quizdata.owner),dd.register_events(),dd.process_html(),dd.doquizlayout()):log.debug("Readaloud quiz Controller: No config found on page. Giving up.")},process_html:function(){var opts=this.quizdata,controls={introbox:$(".mod_intro_box"),quizcontainer:$("."+opts.quizcontainer),feedbackcontainer:$("."+opts.feedbackcontainer),errorcontainer:$("."+opts.errorcontainer),instructionscontainer:$("."+opts.instructionscontainer),wheretonextcontainer:$("."+opts.wheretonextcontainer),placeholder:$(".mod_readaloud_placeholder")};this.controls=controls},register_events:function(){},doquizlayout:function(){this.controls.instructionscontainer.hide(),quizhelper.init(this.controls.quizcontainer,this.quizdata,this.cmid,this.attemptid,polly),this.controls.placeholder.hide(),this.controls.quizcontainer.show()},doerrorlayout:function(){this.controls.errorcontainer.show(),this.controls.wheretonextcontainer.show()}}}));

//# sourceMappingURL=quizcontroller.min.js.map