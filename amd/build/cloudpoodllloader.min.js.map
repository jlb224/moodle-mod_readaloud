{"version":3,"file":"cloudpoodllloader.min.js","sources":["../src/cloudpoodllloader.js"],"sourcesContent":["define(['jquery', 'core/log', 'https://cdn.jsdelivr.net/gh/justinhunt/cloudpoodll@latest/amd/build/cloudpoodll.min.js'], function ($, log, CloudPoodll) {\r\n//define(['jquery','core/log','http://localhost/moodle/local/cpapi/cloudpoodll/amd/src/localcloudpoodll.js'], function($,log,CloudPoodll){\r\n    return {\r\n        callbacks: [],\r\n        init: function (recorderid, thecallback) {\r\n            var that = this;\r\n            CloudPoodll.createRecorder(recorderid);\r\n\r\n            this.callbacks.push({recorderid: recorderid, callback: thecallback});\r\n            if(this.callbacks.length===1) {\r\n                CloudPoodll.initEvents();\r\n                CloudPoodll.theCallback = function (m) {\r\n                   for (var i = 0; i < that.callbacks.length; i++) {\r\n                       if (m.id === that.callbacks[i].recorderid) {\r\n                           that.callbacks[i].callback(m);\r\n                       }\r\n                   }\r\n                };\r\n            }\r\n\r\n            $(\"iframe\").on(\"load\", function () {\r\n                $(\".mod_readaloud_recording_cont\").css('background-image', 'none');\r\n            });\r\n        }\r\n    }\r\n});"],"names":["define","$","log","CloudPoodll","callbacks","init","recorderid","thecallback","that","this","createRecorder","push","callback","length","initEvents","theCallback","m","i","id","on","css"],"mappings":"AAAAA,yCAAO,CAAC,SAAU,WAAY,2FAA2F,SAAUC,EAAGC,IAAKC,mBAEhI,CACHC,UAAW,GACXC,KAAM,SAAUC,WAAYC,iBACpBC,KAAOC,KACXN,YAAYO,eAAeJ,iBAEtBF,UAAUO,KAAK,CAACL,WAAYA,WAAYM,SAAUL,cAC5B,IAAxBE,KAAKL,UAAUS,SACdV,YAAYW,aACZX,YAAYY,YAAc,SAAUC,OAC5B,IAAIC,EAAI,EAAGA,EAAIT,KAAKJ,UAAUS,OAAQI,IACnCD,EAAEE,KAAOV,KAAKJ,UAAUa,GAAGX,YAC3BE,KAAKJ,UAAUa,GAAGL,SAASI,KAM1Cf,EAAE,UAAUkB,GAAG,QAAQ,WACnBlB,EAAE,iCAAiCmB,IAAI,mBAAoB"}