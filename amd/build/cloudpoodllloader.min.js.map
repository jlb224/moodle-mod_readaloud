{"version":3,"file":"cloudpoodllloader.min.js","sources":["../src/cloudpoodllloader.js"],"sourcesContent":["define(['jquery', 'core/log', 'mod_readaloud/cloudpoodll'], function ($, log, cloudpoodll) {\n\n    return {\n        callbacks: [],\n        init: function (recorderid, thecallback) {\n            var that = this;\n            cloudpoodll.createRecorder(recorderid);\n\n            this.callbacks.push({recorderid: recorderid, callback: thecallback});\n            if(this.callbacks.length===1) {\n                cloudpoodll.initEvents();\n                cloudpoodll.theCallback = function (m) {\n                   for (var i = 0; i < that.callbacks.length; i++) {\n                       if (m.id === that.callbacks[i].recorderid) {\n                           that.callbacks[i].callback(m);\n                       }\n                   }\n                };\n            }\n\n            $(\"iframe\").on(\"load\", function () {\n                $(\".mod_readaloud_recording_cont\").css('background-image', 'none');\n            });\n        }\n    }\n});"],"names":["define","$","log","cloudpoodll","callbacks","init","recorderid","thecallback","that","this","createRecorder","push","callback","length","initEvents","theCallback","m","i","id","on","css"],"mappings":"AAAAA,yCAAO,CAAC,SAAU,WAAY,8BAA8B,SAAUC,EAAGC,IAAKC,mBAEnE,CACHC,UAAW,GACXC,KAAM,SAAUC,WAAYC,iBACpBC,KAAOC,KACXN,YAAYO,eAAeJ,iBAEtBF,UAAUO,KAAK,CAACL,WAAYA,WAAYM,SAAUL,cAC5B,IAAxBE,KAAKL,UAAUS,SACdV,YAAYW,aACZX,YAAYY,YAAc,SAAUC,OAC5B,IAAIC,EAAI,EAAGA,EAAIT,KAAKJ,UAAUS,OAAQI,IACnCD,EAAEE,KAAOV,KAAKJ,UAAUa,GAAGX,YAC3BE,KAAKJ,UAAUa,GAAGL,SAASI,KAM1Cf,EAAE,UAAUkB,GAAG,QAAQ,WACnBlB,EAAE,iCAAiCmB,IAAI,mBAAoB"}