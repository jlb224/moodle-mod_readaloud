define(["jquery","core/log","theme_boost/tooltip","theme_boost/popover"],function(a,b){"use strict";return b.debug("Readaloud Popover helper: initialising"),{lastitem:!1,okbuttonclass:"mod_readaloud_quickgrade_ok",ngbuttonclass:"mod_readaloud_quickgrade_ng",init:function(){this.register_events()},register_events:function(){a(document).on("click","."+this.okbuttonclass,this.onAccept),a(document).on("click","."+this.ngbuttonclass,this.onReject)},remove:function(b){b?a(b).popover("dispose"):this.lastitem&&(a(this.lastitem).popover("dispose"),this.lastitem=!1)},addQuickGrader:function(b){this.lastitem&&this.lastitem!==b&&(a(this.lastitem).popover("dispose"),this.lastitem=!1),this.lastitem=b;var c=this,d=function(){var b=a(this).attr("data-wordnumber"),d="<button type='button' class='"+c.okbuttonclass+"' data-wordnumber='"+b+"'>OK</button>",e="<button type='button' class='"+c.ngbuttonclass+"' data-wordnumber='"+b+"'>NG</button>",f="<div class='mod_readaloud_quickgrade_cont'>"+d+e+"</div>";return f};a(b).popover({title:"ok we popover",content:d,trigger:"manual",placement:"top",html:!0}),a(b).popover("show")},addTranscript:function(b,c){return this.lastitem==b?(a(this.lastitem).popover("dispose"),void(this.lastitem=!1)):(this.lastitem&&(a(this.lastitem).popover("dispose"),this.lastitem=!1),this.lastitem=b,a(b).popover({title:"Transcript",content:c,trigger:"manual",placement:"top"}),void a(b).popover("show"))},onAccept:function(){alert(a(this).attr("data-wordnumber"))},onReject:function(){alert(a(this).attr("data-wordnumber"))}}});